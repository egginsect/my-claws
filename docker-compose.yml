networks:
  claw-network:
    driver: bridge

services:
  agent-01:
    build:
      context: .
      dockerfile: Dockerfile
    image: openclaw:local
    container_name: openclaw-agent-01
    env_file:
      - ./agent-01/.env
    environment:
      - PUID=1000
      - PGID=1000
      - TZ=Etc/UTC
    volumes:
      - ./agent-01/.openclaw:/config/.openclaw
    ports:
      - "8080:3000" # Webtop HTTP
      - "8081:3001" # Webtop HTTPS
      - "18789:18789" # OpenClaw gateway
    networks:
      - claw-network
    restart: unless-stopped
  # Example for agent-02:
  # agent-02:
  #   image: openclaw:local
  #   container_name: openclaw-agent-02
  #   env_file:
  #     - ./agent-02/.env
  #   volumes:
  #     - ./agent-02/.openclaw:/home/node/.openclaw
  #   ports:
  #     - "18790:18789"
  #   networks:
  #     - claw-network
  #   restart: unless-stopped
  #   command: ["node", "dist/index.js", "gateway", "--allow-unconfigured", "--bind", "lan"]

networks:
  claw-network:
    driver: bridge

services:
  assistant:
    build:
      context: .
      dockerfile: Dockerfile
    image: openclaw:local
    container_name: openclaw-assistant
    hostname: hm01
    env_file:
      - ./assistant/.env
    environment:
      - TZ=Etc/UTC
      - OPENCLAW_PORT=18789
    volumes:
      - ./assistant/.openclaw:/home/node/.openclaw
      - ./assistant/workspace:/home/node/workspace
    ports:
      - "18789:18789" # OpenClaw gateway
    networks:
      - claw-network
    restart: unless-stopped

  coder:
    image: openclaw:local
    container_name: openclaw-coder
    hostname: hm02
    env_file:
      - ./coder/.env
    environment:
      - TZ=Etc/UTC
      - OPENCLAW_PORT=18790
    volumes:
      - ./coder/.openclaw:/home/node/.openclaw
      - ./coder/workspace:/home/node/workspace
    ports:
      - "18790:18790" # OpenClaw gateway
    networks:
      - claw-network
    restart: unless-stopped
